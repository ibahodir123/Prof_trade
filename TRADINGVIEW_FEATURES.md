# 🎯 Реализация графиков в стиле TradingView

## ✅ Что было добавлено

### 1. **Кнопки КУПИТЬ/ПРОДАТЬ**
- Красная кнопка "ПРОДАТЬ" с ценой bid (немного ниже текущей цены)
- Синяя кнопка "КУПИТЬ" с ценой ask (немного выше текущей цены)
- Реалистичный спред ~0.1% между bid и ask ценами

### 2. **Заштрихованные зоны**
- **Зеленая зона** - зона тейк-профита (для лонга выше текущей цены)
- **Красная зона** - зона стоп-лосса (для лонга ниже текущей цены)
- Адаптивные зоны для шорт-позиций

### 3. **Горизонтальные линии уровней**
- Синяя пунктирная линия - уровень входа
- Зеленая/красная пунктирная линия - тейк-профит
- Красная пунктирная линия - стоп-лосс

### 4. **Профессиональный дизайн**
- Темная тема в стиле TradingView (#131722)
- Улучшенные свечи с правильными цветами
- EMA линии с яркими цветами
- Высокое качество (200 DPI)

### 5. **Дополнительные индикаторы**
- **RSI (14)** с уровнями перекупленности/перепроданности
- Техническая информация в нижней панели
- Детальные торговые уровни

## 🚀 Новые команды

### `/toggle_chart`
Переключает между:
- **Продвинутые графики** (по умолчанию) - полный функционал TradingView
- **Обычные графики** - базовые графики

## 📊 Структура графика

```
┌─────────────────────────────────────┐
│  [ПРОДАТЬ] [КУПИТЬ]  Текущая цена   │ ← Панель кнопок
├─────────────────────────────────────┤
│                                     │
│         Основной график             │
│      с зонами и уровнями            │
│                                     │
├─────────────────────────────────────┤
│            RSI индикатор            │ ← RSI панель
├─────────────────────────────────────┤
│     Детальная информация            │ ← Информационная панель
└─────────────────────────────────────┘
```

## 🎨 Цветовая схема

- **Фон**: #131722 (темный TradingView)
- **Рост**: #26a69a (зеленый)
- **Падение**: #ef5350 (красный)
- **EMA 20**: #ffeb3b (желтый)
- **EMA 50**: #ff9800 (оранжевый)
- **EMA 100**: #9c27b0 (фиолетовый)

## 💡 Использование

1. Запустите бота: `python ml_bot_auto.py`
2. Используйте `/start` для доступа к меню
3. Выберите "📈 Последние сигналы" или "🔍 Анализ монеты"
4. График автоматически отобразится в стиле TradingView
5. Используйте `/toggle_chart` для переключения типов графиков

## 🔧 Технические детали

- **Размер графика**: 16x12 дюймов (продвинутый), 14x10 (обычный)
- **DPI**: 200 (продвинутый), 150 (обычный)
- **Формат**: PNG с прозрачным фоном
- **Индикаторы**: RSI, EMA 20/50/100
- **Данные**: 80 свечей (продвинутый), 60 свечей (обычный)




